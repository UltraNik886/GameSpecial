{% extends "base.html" %}

{% block title %}–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {{ user.username }}{% endblock %}

{% block content %}
<div class="admin-container">
    <div class="admin-header">
        <h1>üë§ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {{ user.username }}</h1>
        <div class="admin-nav">
            <a href="{{ url_for('admin_users') }}" class="button">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
            <a href="{{ url_for('admin_panel') }}" class="button">üè† –ì–ª–∞–≤–Ω–∞—è –∞–¥–º–∏–Ω–∫–∏</a>
        </div>
    </div>

    <div class="user-details">
        <div class="detail-section">
            <h2>üìä –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
            <p><strong>ID:</strong> {{ user.id }}</p>
            <p><strong>Username:</strong> {{ user.username }}</p>
            <p><strong>Email:</strong> {{ user.email }}</p>
            <p><strong>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</strong> {{ user.created_at.strftime('%d.%m.%Y %H:%M') }}</p>
            <p><strong>–°—Ç–∞—Ç—É—Å:</strong> 
                {% if user.is_active %}
                    <span style="color: #4CAF50;">‚úÖ –ê–∫—Ç–∏–≤–µ–Ω</span>
                {% else %}
                    <span style="color: #f44336;">‚ùå –ù–µ–∞–∫—Ç–∏–≤–µ–Ω</span>
                {% endif %}
            </p>
        </div>

        <div class="detail-section">
            <h2>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
            <p><strong>–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–π:</strong> {{ sent_messages }}</p>
            <p><strong>–ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–π:</strong> {{ received_messages }}</p>
            <p><strong>–í—Å–µ–≥–æ –∏–≥—Ä –≤ –ø—Ä–æ—Ñ–∏–ª–µ:</strong> {{ user_games|length }}</p>
        </div>

        {% if user.description %}
        <div class="detail-section">
            <h2>üìù –û–ø–∏—Å–∞–Ω–∏–µ</h2>
            <div class="description-box">{{ user.description }}</div>
        </div>
        {% endif %}

        <div class="detail-section">
            <h2>üéÆ –ò–≥—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
            {% if user_games %}
                <div class="games-grid">
                    {% for game in user_games %}
                        <span class="game-tag">{{ game.game_title }}</span>
                    {% endfor %}
                </div>
            {% else %}
                <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–∏–ª –∏–≥—Ä</p>
            {% endif %}
        </div>

        {% if user.discord or user.telegram or user.contact %}
        <div class="detail-section">
            <h2>üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
            {% if user.discord %}<p><strong>Discord:</strong> {{ user.discord }}</p>{% endif %}
            {% if user.telegram %}<p><strong>Telegram:</strong> {{ user.telegram }}</p>{% endif %}
            {% if user.contact %}<p><strong>–î—Ä—É–≥–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã:</strong> {{ user.contact }}</p>{% endif %}
        </div>
        {% endif %}
    </div>
</div>

<style>
.user-details {
    background: #2e1a47;
    padding: 30px;
    border-radius: 10px;
    margin-top: 20px;
}

.detail-section {
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 1px solid #3c1e63;
}

.detail-section:last-child {
    border-bottom: none;
}

.description-box {
    background: #3c1e63;
    padding: 15px;
    border-radius: 5px;
    border-left: 3px solid #ffcc00;
}

.games-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 10px;
}

.game-tag {
    background: linear-gradient(135deg, #ff6b81, #e55a70);
    color: white;
    padding: 8px 15px;
    border-radius: 20px;
    font-size: 0.9em;
    font-weight: bold;
}
</style>
{% endblock %}