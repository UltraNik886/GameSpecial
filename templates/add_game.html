{% extends "base.html" %}

{% block title %}GameSpecial | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–∞–º–∏{% endblock %}

{% block content %}
    <h1>‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–∞–º–∏ –¥–ª—è <span style="color: #ffcc00;">{{ user.username }}</span></h1>
    
    <div class="nav-links">
        <a href="{{ url_for('view_profile', username=user.username) }}">‚Ü©Ô∏è –ù–∞–∑–∞–¥ –∫ –ø—Ä–æ—Ñ–∏–ª—é</a>
        <a href="{{ url_for('edit_profile', username=user.username) }}">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</a>
    </div>

    <!-- –§–æ—Ä–º–∞ –¥–ª—è –î–û–ë–ê–í–õ–ï–ù–ò–Ø –∏–≥—Ä—ã -->
    <h2>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É:</h2>
    <form method="POST">
        <label for="game_title">–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:</label>
        <select id="game_title" name="game_title" required>
            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É --</option>
            {% for game in available_games %}
                <option value="{{ game }}">{{ game }}</option>
            {% endfor %}
        </select>
        
        <button type="submit" class="button primary">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä—É</button>
    </form>
    
    <hr>

    <!-- –°–ø–∏—Å–æ–∫ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –∏–≥—Ä -->
    <h2>–í–∞—à–∏ –∏–≥—Ä—ã ({{ user.games.count() }}):</h2>
    
    {% if user.games.count() > 0 %}
        {% for game in user.games %}
            <div class="user-card">
                <span style="font-weight: bold; color: #ffcc00; font-size: 1.1em;">{{ game.game_title }}</span>
                
                <!-- –§–æ—Ä–º–∞ –¥–ª—è –£–î–ê–õ–ï–ù–ò–Ø –∏–≥—Ä—ã -->
                <form method="POST" action="{{ url_for('delete_game', username=user.username, game_id=game.id) }}">
                    <button type="submit" class="delete-button" 
                            onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –∏–≥—Ä—É {{ game.game_title }}?')">
                        üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                    </button>
                </form>
            </div>
        {% endfor %}
    {% else %}
        <p class="placeholder-text">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –∏–≥—Ä.</p>
    {% endif %}
{% endblock %}