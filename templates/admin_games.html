{% extends "base.html" %}

{% block title %}–ê–¥–º–∏–Ω - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä{% endblock %}

{% block content %}
<div class="admin-container">
    <div class="admin-header">
        <h1>üéÆ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä</h1>
        <div class="admin-nav">
            <a href="{{ url_for('admin_panel') }}" class="button">‚Üê –ù–∞–∑–∞–¥</a>
            <a href="{{ url_for('admin_users') }}" class="button">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</a>
        </div>
    </div>

    <div class="games-stats">
        {% for game in games_stats %}
        <div class="game-stat-card">
            <div class="game-header">
                <h3>{{ game.game_title }}</h3>
                <span class="player-count">{{ game.player_count }} –∏–≥—Ä–æ–∫–æ–≤</span>
            </div>
            <div class="game-players">
                <strong>–ò–≥—Ä–∞—é—Ç:</strong>
                {% if game.usernames %}
                    {{ game.usernames|replace(',', ', ')|truncate(100) }}
                {% else %}
                    –ù–µ—Ç –∏–≥—Ä–æ–∫–æ–≤
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<style>
.games-stats {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 30px;
}

.game-stat-card {
    background: #2e1a47;
    padding: 20px;
    border-radius: 10px;
    border-left: 5px solid #ffcc00;
}

.game-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.player-count {
    background: #ff6b81;
    color: white;
    padding: 5px 10px;
    border-radius: 15px;
    font-weight: bold;
    font-size: 0.9em;
}

.game-players {
    color: #a491d3;
    font-size: 0.9em;
}
</style>
{% endblock %}